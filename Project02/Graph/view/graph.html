        
        <script>

            var width = ($("body").width() - $("#data_form").width() - 50 ), 
                height = 510;

            var svg = d3.select("#data_graph").append("svg")
                    .attr("width", width)
                    .attr("height", height);

            var force = d3.layout.force()
                    .size([width, height]);

            d3.csv("arris.csv",
                    function(links) {

                        var nodesByName = {};

                        // Create nodes for each unique source and target.
                        links.forEach(function(link) {
                            link.source = nodeByName(link.Node1);
                            link.target = nodeByName(link.Node2);
                        });

                        // Extract the array of nodes from the map by name.
                        var nodes = d3.values(nodesByName);
                
                        // Create the link lines.
                        var link = svg.selectAll(".link")
                                .data(links)
                                .enter().append("line")
                                .attr("id",function(d,i) { return "arris_" + d.Node1 + "_" + d.Node2; })
                                .attr("class", "link");
                
                        var linktext = svg.selectAll(".link_label").data(links);
                
                        linktext.enter().append("g")
                                 .attr("class",function(d,i) { return "arris_cost_" + d.Node1 + "_" + d.Node2; })
                                 .append("text")
                                 .attr("dx", 1)
                                 .attr("dy", ".35em")
                                 .attr("text-anchor", "middle")
                                 .attr("fill","#A0A0A0")
                                 .text(function(d) { return d.Cost });

                        // Create the node circles.
                        var node = svg.selectAll(".node")
                                .data(nodes)
                                .enter().append("g")
                                .attr("class", "node")
                                .on("mouseover", mouseover)
                                .on("mouseout", mouseout)
                                .attr("id",function(d,i) { return "node_" + d.name; })
                                .call(force.drag);

                        node.append("circle")
                                .attr("r", 14)
                                .attr("fill", "#3399FF");

                        node.append("text")
                                .attr("x", "-3")
                                .attr("dy", ".35em")
                                .text(function(d) {
                                    return d.name;
                                });


                        // Start the force layout.
                        force
                                .nodes(nodes)
                                .links(links)
                                .linkDistance(110)
                                .charge(-300)
                                .on("tick", tick)
                                .start();

                        function tick() {
                            link.attr("x1", function(d) {
                                return d.source.x;
                            })
                                    .attr("y1", function(d) {
                                        return d.source.y;
                                    })
                                    .attr("x2", function(d) {
                                        return d.target.x;
                                    })
                                    .attr("y2", function(d) {
                                        return d.target.y;
                                    });
                        
                            linktext.attr("transform", 
                                          function(d) {
                                              return "translate(" + (d.source.x + d.target.x) / 2 + "," 
                                              + ( ((d.source.y + d.target.y) / 2) + 6)+ ")"; });

                            node.attr("transform", function(d) {
                                return "translate(" + d.x + "," + d.y + ")";
                            });

                        }

                        function nodeByName(name) {
                            return nodesByName[name] || (nodesByName[name] = {name: name});
                        }
                    });

                    function mouseover() {
                      d3.select(this).select("circle").transition()
                          .duration(750)
                          .attr("r", 19);
                    }

                    function mouseout() {
                      d3.select(this).select("circle").transition()
                          .duration(750)
                          .attr("r", 14);
                    }

        </script>